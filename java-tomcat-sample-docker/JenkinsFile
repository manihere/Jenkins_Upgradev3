pipeline
{
	agent any
	
	stages{
		stage('Archiving Artifact')
			{
				steps{

				sh 'maven -f java-tomcat-sample-docker/pom.xml clean package'
				
				success{
					echo "Archiving the artifacts"
					archiveArtifacts artifacts : '**/*war'
					}								
			}}
		stage('Deploy package to Docker container')
			{
				steps{
					echo "pwd"
					echo "ls -a"
					sh 'docker build . -t javatomcatsample:${env.BUILD_ID}'
					
					}
			}

		}
}
